{
  "name": "Money-open-exchange-rates",
  "tagline": "A gem that calculates the exchange rate using published rates from open-exchange-rates. Compatible with the money gem.",
  "body": "# Money Open Exchange Rates\r\n\r\nA gem that calculates the exchange rate using published rates from\r\n[open-exchange-rates](https://openexchangerates.org/)\r\n\r\nCheck [api documentation](https://docs.openexchangerates.org/)\r\n\r\n* [Live](https://docs.openexchangerates.org/docs/latest-json) and\r\n    [historical](https://docs.openexchangerates.org/docs/historical-json)\r\n    exchange rates for\r\n    [180 currencies](https://docs.openexchangerates.org/docs/supported-currencies).\r\n* [Free plan](https://openexchangerates.org/signup) hourly updates, with USD\r\n    base and up to 1,000 requests/month.\r\n* Currency caching.\r\n* Calculate pair rates.\r\n\r\n## Installation\r\n\r\nAdd this line to your application's Gemfile:\r\n\r\n~~~ ruby\r\ngem 'money-open-exchange-rates'\r\n~~~\r\n\r\nAnd then execute:\r\n\r\n~~~\r\nbundle\r\n~~~\r\n\r\nOr install it yourself as:\r\n\r\n~~~\r\ngem install money-open-exchange-rates\r\n~~~\r\n\r\n## Usage\r\n\r\n~~~ ruby\r\nrequire 'money/bank/open_exchange_rates_bank'\r\noxr = Money::Bank::OpenExchangeRatesBank.new\r\noxr.cache = 'path/to/file/cache.json'\r\noxr.app_id = 'your app id from https://openexchangerates.org/signup'\r\noxr.update_rates\r\n\r\n# (optional)\r\n# set the seconds after than the current rates are automatically expired\r\n# by default, they never expire, in this example 1 day.\r\noxr.ttl_in_seconds = 86400\r\n# (optional)\r\n# use https to fetch rates from Open Exchange Rates\r\n# disabled by default to support free-tier users\r\n# see https://openexchangerates.org/documentation#https\r\noxr.secure_connection = true\r\n# (optional)\r\n# set historical date of the rate\r\n# see https://openexchangerates.org/documentation#historical-data\r\noxr.date = '2015-01-01'\r\n# (optional)\r\n# Set the base currency for all rates. By default, USD is used.\r\n# OpenExchangeRates only allows USD as base currency\r\n# for the free plan users.\r\noxr.source = 'USD'\r\n\r\n# Store in cache\r\noxr.save_rates\r\n\r\nMoney.default_bank = oxr\r\n\r\nMoney.default_bank.get_rate('USD', 'CAD')\r\n~~~\r\n\r\nYou can also provide a Proc as a cache to provide your own caching mechanism\r\nperhaps with Redis or just a thread safe `Hash` (global). For example:\r\n\r\n~~~ ruby\r\noxr.cache = Proc.new do |v|\r\n  key = 'money:exchange_rates'\r\n  if v\r\n    Thread.current[key] = v\r\n  else\r\n    Thread.current[key]\r\n  end\r\nend\r\n~~~\r\n\r\nUnknown pair rates are transparently calculated: using inverse rate (if known),\r\nor using base currency rate to both currencies forming the pair.\r\n\r\n## Tests\r\n\r\n~~~\r\nbundle exec rake\r\n~~~\r\n\r\n## Refs\r\n\r\n* <https://github.com/josscrowcroft/open-exchange-rates>\r\n* <https://github.com/RubyMoney/money>\r\n* <https://github.com/RubyMoney/eu_central_bank>\r\n* <https://github.com/RubyMoney/google_currency>\r\n\r\n## Contributors\r\n\r\nSee [GitHub](https://github.com/spk/money-open-exchange-rates/graphs/contributors).\r\n\r\n## License\r\n\r\nThe MIT License\r\n\r\nCopyright Â© 2011-2016 Laurent Arnoud <laurent@spkdev.net>\r\n\r\n---\r\n[![Build](https://img.shields.io/travis-ci/spk/money-open-exchange-rates.svg)](https://travis-ci.org/spk/money-open-exchange-rates)\r\n[![Version](https://img.shields.io/gem/v/money-open-exchange-rates.svg)](https://rubygems.org/gems/money-open-exchange-rates)\r\n[![Documentation](https://img.shields.io/badge/doc-rubydoc-blue.svg)](http://www.rubydoc.info/gems/money-open-exchange-rates)\r\n[![License](https://img.shields.io/badge/license-MIT-blue.svg)](http://opensource.org/licenses/MIT \"MIT\")\r\n[![Code Climate](http://img.shields.io/codeclimate/github/spk/money-open-exchange-rates.svg)](https://codeclimate.com/github/spk/money-open-exchange-rates)\r\n[![Inline docs](http://inch-ci.org/github/spk/money-open-exchange-rates.svg?branch=master)](http://inch-ci.org/github/spk/money-open-exchange-rates)\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}